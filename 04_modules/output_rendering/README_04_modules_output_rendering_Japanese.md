# 出力・レンダリング / Output & Rendering

推論結果の整形と出力に関する設計ドキュメントを格納しています。

## 📋 概要

本モジュールは、Po_coreの推論結果を人間が理解しやすい形式に変換し、様々なフォーマットで出力する機能を提供します。

## 🎯 主要機能

### Po_core_output

推論結果の基本的な出力機能

- テキスト形式での出力
- 構造化データの生成
- メタデータの付与

### Po_core_output_renderer

高度なレンダリング機能

- HTMLレンダリング
- マークダウン変換
- カスタムテンプレート対応

### Po_core_renderer + auto_log_writer

自動ログ記録を含む統合レンダラー

- リアルタイムレンダリング
- ログの自動生成
- 非同期処理対応

## 🔧 レンダリングパイプライン

```
Reasoning Results
    ↓
Format Selection
    ↓
Template Application
    ↓
Content Rendering
    ↓
Output Generation
    ↓
Auto Logging
```

## 📝 サポートされる出力形式

### テキスト形式

- プレーンテキスト
- マークダウン
- JSON
- YAML

### リッチフォーマット

- HTML（スタイル付き）
- PDF（将来対応予定）
- インタラクティブビューア

### データ形式

- 構造化JSON
- RDF/Turtle（セマンティックWeb対応）
- CSV（分析用）

## 🎨 テンプレートシステム

### カスタマイズ可能な要素

- レイアウト構造
- スタイリング
- コンテンツの表示順序
- メタデータの表示/非表示

### テンプレート言語

Jinja2ベースのテンプレートエンジンを使用

## 🔗 関連コンポーネント

- 推論ログ: `../reason_log/`
- 可視化: `../viewer/`
- イベント記録: `../po_trace/`

## 💡 実装上の注意

### パフォーマンス

- 大量の出力時はストリーミング処理を推奨
- テンプレートキャッシュの活用
- 非同期レンダリングの検討

### エラーハンドリング

- レンダリング失敗時のフォールバック
- 不正なテンプレートの検出
- グレースフルデグラデーション

### 国際化

- 多言語対応
- ロケールに応じた出力
- 文字エンコーディングの適切な処理

## 📚 ドキュメント構成

各設計書には以下が含まれます：

- レンダリングアルゴリズム
- テンプレート仕様
- 出力例
- カスタマイズ方法

## 🔄 処理フロー

1. **入力受付**: 推論結果の受け取り
2. **フォーマット選択**: 出力形式の決定
3. **データ変換**: 内部表現から出力形式へ
4. **テンプレート適用**: 整形とスタイリング
5. **出力生成**: 最終的な出力の生成
6. **ログ記録**: 自動ログの書き込み

## 🌟 特徴的な機能

### auto_log_writer

レンダリングと同時に、プロセス全体を自動的にログに記録します。トレーサビリティと再現性を確保します。

### 柔軟なテンプレート

ユーザーが独自のテンプレートを定義でき、組織やプロジェクト固有の出力形式に対応できます。

### ストリーミング対応

大規模な出力でもメモリ効率よく処理できるストリーミングレンダリングをサポートします。

---

[← モジュール一覧に戻る](../README.md) | [← ドキュメント一覧](../../README.md)
