# API仕様 / API Specifications

Po_coreシステムのAPI仕様書を格納しています。

## 📋 概要

本フォルダには、Po_coreの各種APIの詳細仕様が含まれています。システム統合、外部連携、モジュール間通信に必要なインターフェース定義を提供します。

## 🔌 主要API

### API Chains

推論チェーンを構築・実行するためのAPI

- チェーン定義のJSON形式
- 実行順序の制御
- 中間結果の取得

### Po_trace Event Metadata API

イベント記録とメタデータ管理のAPI

- イベントのトレース
- メタデータの構造化
- バージョン管理対応

## 📡 API設計の原則

### RESTful設計

- リソース指向のエンドポイント
- HTTPメソッドの適切な使用
- ステートレスな通信

### JSON形式

- 標準的なデータ形式
- スキーマバリデーション
- 多言語対応

### バージョニング

- APIバージョンの明示
- 後方互換性の維持
- 段階的な移行サポート

## 🎯 API利用のユースケース

### 外部システムとの連携

- LangChainとの統合
- vLLMとの接続
- カスタムLLMの組み込み

### データの入出力

- 推論チェーンの投入
- 結果の取得
- ログの参照

### モニタリング

- システム状態の監視
- パフォーマンス計測
- エラー追跡

## 📖 APIドキュメントの構成

各API仕様書には以下の情報が含まれます：

1. **概要**: APIの目的と役割
2. **エンドポイント**: URLパスとHTTPメソッド
3. **リクエスト形式**: パラメータとボディの仕様
4. **レスポンス形式**: 返却データの構造
5. **エラー処理**: エラーコードとメッセージ
6. **サンプルコード**: 実装例

## 🔗 関連ドキュメント

- システム仕様: `../01_specifications/`
- アーキテクチャ: `../02_architecture/`
- 実装モジュール: `../04_modules/`

## 🛠️ 開発者向け情報

### 認証

現在のバージョンでは認証は実装されていません。今後のバージョンで追加予定です。

### レート制限

ローカル実行時はレート制限なし。本番環境では要検討。

### エラーハンドリング

標準的なHTTPステータスコードを使用：

- 200: 成功
- 400: 不正なリクエスト
- 404: リソースが見つからない
- 500: サーバーエラー

## 📚 推奨される読み方

1. **初めての方**: API概要から始めて全体像を把握
2. **実装者**: 各エンドポイントの詳細仕様を確認
3. **統合担当**: サンプルコードで実装パターンを確認

## 💡 実装のヒント

### Position補完式

API Chainsでは、position補完式を使用してチェーン内の位置を動的に指定できます。

### マルチスキーマ対応

Event Metadata APIは複数のスキーマバージョンに対応しており、段階的な移行が可能です。

### 多言語サポート

APIは日本語と英語の両方でメタデータを記録可能です。

## 🔄 バージョン履歴

各APIのバージョン履歴は、対応する仕様書内に記載されています。

---

[← ドキュメント一覧に戻る](../README.md)
